(function(m,O){typeof exports=="object"&&typeof module<"u"?O(exports,require("quill")):typeof define=="function"&&define.amd?define(["exports","quill"],O):(m=typeof globalThis<"u"?globalThis:m||self,O(m["vite-libs"]={},m.Quill))})(this,function(m,O){"use strict";const ce=(t=>t&&typeof t=="object"&&"default"in t?t:{default:t})(O);function fe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function se(t){var e=t.default;if(typeof e=="function"){var i=function(){return e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),i}var C={},A={},w={},E={},ye=function(e){return de(e)&&!he(e)};function de(t){return!!t&&typeof t=="object"}function he(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||ge(t)}var ve=typeof Symbol=="function"&&Symbol.for,pe=ve?Symbol.for("react.element"):60103;function ge(t){return t.$$typeof===pe}function me(t){return Array.isArray(t)?[]:{}}function x(t,e){return e.clone!==!1&&e.isMergeableObject(t)?S(me(t),t,e):t}function be(t,e,i){return t.concat(e).map(function(n){return x(n,i)})}function _e(t,e,i){var n={};return i.isMergeableObject(t)&&Object.keys(t).forEach(function(r){n[r]=x(t[r],i)}),Object.keys(e).forEach(function(r){!i.isMergeableObject(e[r])||!t[r]?n[r]=x(e[r],i):n[r]=S(t[r],e[r],i)}),n}function S(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||be,i.isMergeableObject=i.isMergeableObject||ye;var n=Array.isArray(e),r=Array.isArray(t),l=n===r;return l?n?i.arrayMerge(t,e,i):_e(t,e,i):x(e,i)}S.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,r){return S(n,r,i)},{})};var Oe=S;const Se=se(Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"})));var P={},z;function _(){if(z)return P;z=1,Object.defineProperty(P,"__esModule",{value:!0});var t=function(){function l(s,f){for(var u=0;u<f.length;u++){var o=f[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(s,f,u){return f&&l(s.prototype,f),u&&l(s,u),s}}(),e=g();i(e);function i(l){return l&&l.__esModule?l:{default:l}}function n(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}var r=function(){function l(s){n(this,l),this.formatter=s}return t(l,[{key:"onCreate",value:function(){}},{key:"onDestroy",value:function(){}},{key:"onUpdate",value:function(){}}]),l}();return P.default=r,P}var N;function g(){if(N)return E;N=1,Object.defineProperty(E,"__esModule",{value:!0});var t=function(){function h(d,a){for(var c=0;c<a.length;c++){var v=a[c];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}return function(d,a,c){return a&&h(d.prototype,a),c&&h(d,c),d}}(),e=Se,i=f(e),n=ue(),r=f(n),l=_();f(l);var s=k();f(s);function f(h){return h&&h.__esModule?h:{default:h}}function u(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(d,a){return a},y=function(){function h(d){var a=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u(this,h),this.onClick=function(){a.hide()},this.quill=d,this.options=(0,i.default)(r.default,c,{arrayMerge:o}),this.currentSpec=null,this.actions=[],this.overlay=document.createElement("div"),this.overlay.classList.add(this.options.overlay.className),this.options.overlay.style&&Object.assign(this.overlay.style,this.options.overlay.style),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.quill.root.addEventListener("click",this.onClick),this.specs=this.options.specs.map(function(v){return new v(a)}),this.specs.forEach(function(v){return v.init()})}return t(h,[{key:"show",value:function(a){this.currentSpec=a,this.currentSpec.setSelection(),this.setUserSelect("none"),this.quill.root.parentNode.appendChild(this.overlay),this.repositionOverlay(),this.createActions(a)}},{key:"hide",value:function(){!this.currentSpec||(this.currentSpec.onHide(),this.currentSpec=null,this.quill.root.parentNode.removeChild(this.overlay),this.overlay.style.setProperty("display","none"),this.setUserSelect(""),this.destroyActions())}},{key:"update",value:function(){this.repositionOverlay(),this.actions.forEach(function(a){return a.onUpdate()})}},{key:"createActions",value:function(a){var c=this;this.actions=a.getActions().map(function(v){var p=new v(c);return p.onCreate(),p})}},{key:"destroyActions",value:function(){this.actions.forEach(function(a){return a.onDestroy()}),this.actions=[]}},{key:"repositionOverlay",value:function(){if(!!this.currentSpec){var a=this.currentSpec.getOverlayElement();if(!!a){var c=this.quill.root.parentNode,v=a.getBoundingClientRect(),p=c.getBoundingClientRect();Object.assign(this.overlay.style,{display:"block",left:v.left-p.left-1+c.scrollLeft+"px",top:v.top-p.top+c.scrollTop+"px",width:v.width+"px",height:v.height+"px"})}}}},{key:"setUserSelect",value:function(a){var c=this,v=["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"];v.forEach(function(p){c.quill.root.style.setProperty(p,a),document.documentElement&&document.documentElement.style.setProperty(p,a)})}}]),h}();return E.default=y,E}var R={},B={};Object.defineProperty(B,"__esModule",{value:!0});var ke=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function H(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var L="left",U="center",$="right",we=function(){function t(e){var i=this,n;Ae(this,t),this.applyStyle=e.aligner.applyStyle,this.alignAttribute=e.attribute,this.alignments=(n={},H(n,L,{name:L,icon:e.icons.left,apply:function(l){i.setAlignment(l,L),i.setStyle(l,"inline","left","0 1em 1em 0")}}),H(n,U,{name:U,icon:e.icons.center,apply:function(l){i.setAlignment(l,U),i.setStyle(l,"block",null,"auto")}}),H(n,$,{name:$,icon:e.icons.right,apply:function(l){i.setAlignment(l,$),i.setStyle(l,"inline","right","0 0 1em 1em")}}),n)}return ke(t,[{key:"getAlignments",value:function(){var i=this;return Object.keys(this.alignments).map(function(n){return i.alignments[n]})}},{key:"clear",value:function(i){i.removeAttribute(this.alignAttribute),this.setStyle(i,null,null,null)}},{key:"isAligned",value:function(i,n){return i.getAttribute(this.alignAttribute)===n.name}},{key:"setAlignment",value:function(i,n){i.setAttribute(this.alignAttribute,n)}},{key:"setStyle",value:function(i,n,r,l){this.applyStyle&&(i.style.setProperty("display",n),i.style.setProperty("float",r),i.style.setProperty("margin",l))}}]),t}();B.default=we;var F={},V;function X(){if(V)return F;V=1;var t=g();e(t);function e(i){return i&&i.__esModule?i:{default:i}}return F}var T={},W;function G(){if(W)return T;W=1,Object.defineProperty(T,"__esModule",{value:!0});var t=function(){function l(s,f){for(var u=0;u<f.length;u++){var o=f[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(s,f,u){return f&&l(s.prototype,f),u&&l(s,u),s}}();X();var e=g();i(e);function i(l){return l&&l.__esModule?l:{default:l}}function n(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}var r=function(){function l(){n(this,l),this.toolbar=null,this.buttons=[]}return t(l,[{key:"create",value:function(f,u){var o=document.createElement("div");return o.classList.add(f.options.align.toolbar.mainClassName),this.addToolbarStyle(f,o),this.addButtons(f,o,u),this.toolbar=o,this.toolbar}},{key:"destroy",value:function(){this.toolbar=null,this.buttons=[]}},{key:"getElement",value:function(){return this.toolbar}},{key:"addToolbarStyle",value:function(f,u){f.options.align.toolbar.mainStyle&&Object.assign(u.style,f.options.align.toolbar.mainStyle)}},{key:"addButtonStyle",value:function(f,u,o){o.options.align.toolbar.buttonStyle&&(Object.assign(f.style,o.options.align.toolbar.buttonStyle),u>0&&(f.style.borderLeftWidth="0")),o.options.align.toolbar.svgStyle&&Object.assign(f.children[0].style,o.options.align.toolbar.svgStyle)}},{key:"addButtons",value:function(f,u,o){var y=this;o.getAlignments().forEach(function(h,d){var a=document.createElement("span");a.classList.add(f.options.align.toolbar.buttonClassName),a.innerHTML=h.icon,a.addEventListener("click",function(){y.onButtonClick(a,f,h,o)}),y.preselectButton(a,h,f,o),y.addButtonStyle(a,d,f),y.buttons.push(a),u.appendChild(a)})}},{key:"preselectButton",value:function(f,u,o,y){if(!!o.currentSpec){var h=o.currentSpec.getTargetElement();!h||y.isAligned(h,u)&&this.selectButton(o,f)}}},{key:"onButtonClick",value:function(f,u,o,y){if(!!u.currentSpec){var h=u.currentSpec.getTargetElement();!h||this.clickButton(f,h,u,o,y)}}},{key:"clickButton",value:function(f,u,o,y,h){var d=this;this.buttons.forEach(function(a){d.deselectButton(o,a)}),h.isAligned(u,y)?o.options.align.toolbar.allowDeselect?h.clear(u):this.selectButton(o,f):(this.selectButton(o,f),y.apply(u)),o.update()}},{key:"selectButton",value:function(f,u){u.classList.add("is-selected"),f.options.align.toolbar.addButtonSelectStyle&&u.style.setProperty("filter","invert(20%)")}},{key:"deselectButton",value:function(f,u){u.classList.remove("is-selected"),f.options.align.toolbar.addButtonSelectStyle&&u.style.removeProperty("filter")}}]),l}();return T.default=r,T}var K;function Y(){if(K)return R;K=1,Object.defineProperty(R,"__esModule",{value:!0});var t=function(){function a(c,v){for(var p=0;p<v.length;p++){var b=v[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(c,b.key,b)}}return function(c,v,p){return v&&a(c.prototype,v),p&&a(c,p),c}}(),e=_(),i=u(e),n=g();u(n);var r=B,l=u(r);X();var s=G(),f=u(s);function u(a){return a&&a.__esModule?a:{default:a}}function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function y(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:a}function h(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}var d=function(a){h(c,a);function c(v){o(this,c);var p=y(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,v));return p.aligner=new l.default(v.options.align),p.toolbar=new f.default,p}return t(c,[{key:"onCreate",value:function(){var p=this.toolbar.create(this.formatter,this.aligner);this.formatter.overlay.appendChild(p)}},{key:"onDestroy",value:function(){var p=this.toolbar.getElement();!p||(this.formatter.overlay.removeChild(p),this.toolbar.destroy())}}]),c}(i.default);return R.default=d,R}var j={};Object.defineProperty(j,"__esModule",{value:!0});var Ee=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),xe=_(),Pe=Q(xe),Re=g();Q(Re);function Q(t){return t&&t.__esModule?t:{default:t}}function Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Te(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function je(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var De=function(t){je(e,t);function e(i){Be(this,e);var n=Te(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.onMouseDown=function(r){if(r.target instanceof HTMLElement&&(n.dragHandle=r.target,n.setCursor(n.dragHandle.style.cursor),!!n.formatter.currentSpec)){var l=n.formatter.currentSpec.getTargetElement();if(!!l){var s=l.getBoundingClientRect();n.dragStartX=r.clientX,n.preDragWidth=s.width,n.targetRatio=s.height/s.width,document.addEventListener("mousemove",n.onDrag),document.addEventListener("mouseup",n.onMouseUp)}}},n.onDrag=function(r){if(!!n.formatter.currentSpec){var l=n.formatter.currentSpec.getTargetElement();if(!!l){n.toggleUserSelect(!1);var s=r.clientX-n.dragStartX,f=0;n.dragHandle===n.topLeftHandle||n.dragHandle===n.bottomLeftHandle?f=Math.round(n.preDragWidth-s):f=Math.round(n.preDragWidth+s);var u=n.targetRatio*f;l.setAttribute("width",""+f),l.setAttribute("height",""+u),n.formatter.update()}}},n.onMouseUp=function(){n.setCursor(""),n.toggleUserSelect(!0),document.removeEventListener("mousemove",n.onDrag),document.removeEventListener("mouseup",n.onMouseUp)},n.topLeftHandle=n.createHandle("top-left","nwse-resize"),n.topRightHandle=n.createHandle("top-right","nesw-resize"),n.bottomRightHandle=n.createHandle("bottom-right","nwse-resize"),n.bottomLeftHandle=n.createHandle("bottom-left","nesw-resize"),n.dragHandle=null,n.dragStartX=0,n.preDragWidth=0,n.targetRatio=0,n}return Ee(e,[{key:"onCreate",value:function(){this.formatter.overlay.appendChild(this.topLeftHandle),this.formatter.overlay.appendChild(this.topRightHandle),this.formatter.overlay.appendChild(this.bottomRightHandle),this.formatter.overlay.appendChild(this.bottomLeftHandle),this.repositionHandles(this.formatter.options.resize.handleStyle)}},{key:"onDestroy",value:function(){this.setCursor(""),this.formatter.overlay.removeChild(this.topLeftHandle),this.formatter.overlay.removeChild(this.topRightHandle),this.formatter.overlay.removeChild(this.bottomRightHandle),this.formatter.overlay.removeChild(this.bottomLeftHandle)}},{key:"createHandle",value:function(n,r){var l=document.createElement("div");return l.classList.add(this.formatter.options.resize.handleClassName),l.setAttribute("data-position",n),l.style.cursor=r,this.formatter.options.resize.handleStyle&&Object.assign(l.style,this.formatter.options.resize.handleStyle),l.addEventListener("mousedown",this.onMouseDown),l}},{key:"repositionHandles",value:function(n){var r="0px",l="0px";n&&(n.width&&(r=-parseFloat(n.width)/2+"px"),n.height&&(l=-parseFloat(n.height)/2+"px")),Object.assign(this.topLeftHandle.style,{left:r,top:l}),Object.assign(this.topRightHandle.style,{right:r,top:l}),Object.assign(this.bottomRightHandle.style,{right:r,bottom:l}),Object.assign(this.bottomLeftHandle.style,{left:r,bottom:l})}},{key:"setCursor",value:function(n){if(document.body&&(document.body.style.cursor=n),this.formatter.currentSpec){var r=this.formatter.currentSpec.getOverlayElement();r&&(r.style.cursor=n)}}},{key:"toggleUserSelect",value:function(n){if(n){document.body.style.setProperty("-moz-user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto"),document.body.style.setProperty("-ms-user-select","auto"),document.body.style.setProperty("-o-user-select","auto"),document.body.style.setProperty("user-select","auto"),document.onselectstart=function(){return!0},document.onselect=function(){return!0},document.onselectionchange=function(){return!0};return}document.body.style.setProperty("-moz-user-select","none"),document.body.style.setProperty("-webkit-user-select","none"),document.body.style.setProperty("-ms-user-select","none"),document.body.style.setProperty("-o-user-select","none"),document.body.style.setProperty("user-select","none"),document.onselectstart=function(){return!1},document.onselect=function(){return!1},document.onselectionchange=function(){return!1}}}]),e}(Pe.default);j.default=De;var D={};Object.defineProperty(D,"__esModule",{value:!0});var Me=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),qe=ce.default,Ie=J(qe),He=_(),Le=J(He);function J(t){return t&&t.__esModule?t:{default:t}}function Ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ce=function(t){$e(e,t);function e(){var i,n,r,l;Ue(this,e);for(var s=arguments.length,f=Array(s),u=0;u<s;u++)f[u]=arguments[u];return l=(n=(r=Z(this,(i=e.__proto__||Object.getPrototypeOf(e)).call.apply(i,[this].concat(f))),r),r.onKeyUp=function(o){if(!!r.formatter.currentSpec&&(o.keyCode===46||o.keyCode===8)){var y=Ie.default.find(r.formatter.currentSpec.getTargetElement());y&&y.deleteAt(0),r.formatter.hide()}},n),Z(r,l)}return Me(e,[{key:"onCreate",value:function(){document.addEventListener("keyup",this.onKeyUp,!0),this.formatter.quill.root.addEventListener("input",this.onKeyUp,!0)}},{key:"onDestroy",value:function(){document.removeEventListener("keyup",this.onKeyUp),this.formatter.quill.root.removeEventListener("input",this.onKeyUp)}}]),e}(Le.default);D.default=Ce;var ee;function k(){if(ee)return w;ee=1,Object.defineProperty(w,"__esModule",{value:!0});var t=function(){function d(a,c){for(var v=0;v<c.length;v++){var p=c[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(a,p.key,p)}}return function(a,c,v){return c&&d(a.prototype,c),v&&d(a,v),a}}(),e=g();o(e);var i=_();o(i);var n=Y(),r=o(n),l=j,s=o(l),f=D,u=o(f);function o(d){return d&&d.__esModule?d:{default:d}}function y(d,a){if(!(d instanceof a))throw new TypeError("Cannot call a class as a function")}var h=function(){function d(a){y(this,d),this.formatter=a}return t(d,[{key:"init",value:function(){}},{key:"getActions",value:function(){return[r.default,s.default,u.default]}},{key:"getTargetElement",value:function(){return null}},{key:"getOverlayElement",value:function(){return this.getTargetElement()}},{key:"setSelection",value:function(){this.formatter.quill.setSelection(null)}},{key:"onHide",value:function(){}}]),d}();return w.default=h,w}var M={},te;function ne(){if(te)return M;te=1,Object.defineProperty(M,"__esModule",{value:!0});var t=function(){function o(y,h){for(var d=0;d<h.length;d++){var a=h[d];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(y,a.key,a)}}return function(y,h,d){return h&&o(y.prototype,h),d&&o(y,d),y}}(),e=k(),i=r(e),n=g();r(n);function r(o){return o&&o.__esModule?o:{default:o}}function l(o,y){if(!(o instanceof y))throw new TypeError("Cannot call a class as a function")}function s(o,y){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:o}function f(o,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);o.prototype=Object.create(y&&y.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(o,y):o.__proto__=y)}var u=function(o){f(y,o);function y(h){l(this,y);var d=s(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,h));return d.onClick=function(a){var c=a.target;!(c instanceof HTMLElement)||c.tagName!=="IMG"||(d.img=c,d.formatter.show(d))},d.img=null,d}return t(y,[{key:"init",value:function(){this.formatter.quill.root.addEventListener("click",this.onClick)}},{key:"getTargetElement",value:function(){return this.img}},{key:"onHide",value:function(){this.img=null}}]),y}(i.default);return M.default=u,M}var q={},I={};Object.defineProperty(I,"__esModule",{value:!0});var ze=function(){function t(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ne=k(),Fe=re(Ne),Ve=g();re(Ve);function re(t){return t&&t.__esModule?t:{default:t}}function Xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function We(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ie="data-blot-formatter-unclickable-bound",Ke="blot-formatter__proxy-image",Ye=function(t){Ge(e,t);function e(i,n){Xe(this,e);var r=We(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return r.onTextChange=function(){Array.from(document.querySelectorAll(r.selector+":not(["+ie+"])")).forEach(function(l){l.setAttribute(ie,"true"),l.addEventListener("mouseenter",r.onMouseEnter)})},r.onMouseEnter=function(l){var s=l.target;s instanceof HTMLElement&&(r.nextUnclickable=s,r.repositionProxyImage(r.nextUnclickable))},r.onProxyImageClick=function(){r.unclickable=r.nextUnclickable,r.nextUnclickable=null,r.formatter.show(r),r.hideProxyImage()},r.selector=n,r.unclickable=null,r.nextUnclickable=null,r}return ze(e,[{key:"init",value:function(){document.body&&document.body.appendChild(this.createProxyImage()),this.hideProxyImage(),this.proxyImage.addEventListener("click",this.onProxyImageClick),this.formatter.quill.on("text-change",this.onTextChange)}},{key:"getTargetElement",value:function(){return this.unclickable}},{key:"getOverlayElement",value:function(){return this.unclickable}},{key:"onHide",value:function(){this.hideProxyImage(),this.nextUnclickable=null,this.unclickable=null}},{key:"createProxyImage",value:function(){var n=document.createElement("canvas"),r=n.getContext("2d");return r.globalAlpha=0,r.fillRect(0,0,1,1),this.proxyImage=document.createElement("img"),this.proxyImage.src=n.toDataURL("image/png"),this.proxyImage.alt="",this.proxyImage.classList.add(Ke),Object.assign(this.proxyImage.style,{position:"absolute",margin:"0"}),this.proxyImage}},{key:"hideProxyImage",value:function(){Object.assign(this.proxyImage.style,{display:"none"})}},{key:"repositionProxyImage",value:function(n){var r=n.getBoundingClientRect();Object.assign(this.proxyImage.style,{display:"block",left:r.left+window.pageXOffset+"px",top:r.top+window.pageYOffset+"px",width:r.width+"px",height:r.height+"px"})}}]),e}(Fe.default);I.default=Ye;var oe;function ae(){if(oe)return q;oe=1,Object.defineProperty(q,"__esModule",{value:!0});var t=I,e=n(t),i=g();n(i);function n(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function l(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function s(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=function(u){s(o,u);function o(y){return r(this,o),l(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,y,"iframe.ql-video"))}return o}(e.default);return q.default=f,q}var le;function ue(){if(le)return A;le=1,Object.defineProperty(A,"__esModule",{value:!0});var t=k();l(t);var e=ne(),i=l(e),n=ae(),r=l(n);function l(f){return f&&f.__esModule?f:{default:f}}var s={specs:[i.default,r.default],overlay:{className:"blot-formatter__overlay",style:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"}},align:{attribute:"data-align",aligner:{applyStyle:!0},icons:{left:`
        <svg viewbox="0 0 18 18">
          <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>
          <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>
          <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>
        </svg>
      `,center:`
        <svg viewbox="0 0 18 18">
           <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>
          <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>
          <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>
        </svg>
      `,right:`
        <svg viewbox="0 0 18 18">
          <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>
          <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>
          <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>
        </svg>
      `},toolbar:{allowDeselect:!0,mainClassName:"blot-formatter__toolbar",mainStyle:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default",zIndex:"1"},buttonClassName:"blot-formatter__toolbar-button",addButtonSelectStyle:!0,buttonStyle:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},svgStyle:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"}}},resize:{handleClassName:"blot-formatter__resize-handle",handleStyle:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"}}};return A.default=s,A}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ue();Object.defineProperty(t,"DefaultOptions",{enumerable:!0,get:function(){return a(e).default}});var i=g();Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(i).default}});var n=_();Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return a(n).default}});var r=Y();Object.defineProperty(t,"AlignAction",{enumerable:!0,get:function(){return a(r).default}});var l=B;Object.defineProperty(t,"DefaultAligner",{enumerable:!0,get:function(){return a(l).default}});var s=G();Object.defineProperty(t,"DefaultToolbar",{enumerable:!0,get:function(){return a(s).default}});var f=D;Object.defineProperty(t,"DeleteAction",{enumerable:!0,get:function(){return a(f).default}});var u=j;Object.defineProperty(t,"ResizeAction",{enumerable:!0,get:function(){return a(u).default}});var o=k();Object.defineProperty(t,"BlotSpec",{enumerable:!0,get:function(){return a(o).default}});var y=ne();Object.defineProperty(t,"ImageSpec",{enumerable:!0,get:function(){return a(y).default}});var h=I;Object.defineProperty(t,"UnclickableBlotSpec",{enumerable:!0,get:function(){return a(h).default}});var d=ae();Object.defineProperty(t,"IframeVideoSpec",{enumerable:!0,get:function(){return a(d).default}});function a(c){return c&&c.__esModule?c:{default:c}}})(C);const Qe=fe(C);m.BlotFormatter=Qe,Object.defineProperties(m,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
